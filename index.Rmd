---
title       : R 軟體套件開發實務應用
subtitle    : 
author      : Wush Wu
job         : 
framework   : io2012-wush
highlighter : highlight.js
hitheme     : zenburn
widgets     : [mathjax]            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
--- &twocol

```{r setup, include=FALSE, cache=FALSE}
suppressPackageStartupMessages({
  library(knitr)
  library(wordcloud)
  library(RColorBrewer)
})
opts_chunk$set(echo = FALSE, cache = FALSE)
fit100 <- function(fname) sprintf('<img src="assets/img/%s" class="fit100" />', fname)
fit50 <- function(fname) sprintf('<img src="assets/img/%s" class="fit50" />', fname)
fig <- function(fname, size) sprintf('<img src="assets/img/%s" style="max-width:%d%%;max-height:%d%%;" />', fname, size, size)
```

## 關於講者

*** =left

- 台灣大學電機工程學研究所博士生
- Taiwan R User Group 共同創辦人
- 資料科學愛好者年會 - 課程總召
- R 套件相關著作
    - [FeatureHashing](http://cran.r-project.org/web/packages/FeatureHashing/index.html)和[RMessenger](http://cran.r-project.org/web/packages/RMessenger/)的作者
    - [knitr](http://cran.r-project.org/web/packages/knitr/) 的推廣者和小貢獻者
    - [RcppCNPy](http://cran.r-project.org/web/packages/RcppCNPy/)的第二作者
    - [digest](http://cran.r-project.org/web/packages/digest/)的貢獻者

*** =right

`r fig('wush.jpg', 100)`

--- .segue .dark

## 為什麼R 這麼受歡迎？

--- &vcenter

## R 來自世界上最專業的統計學家

<center>`r fit100('statician_10521919-655x280.jpg')`</center>

圖片來源： <http://myfootpath.com/careers/engineering-careers/statistician-careers/>

---

## R 可以輸出高品質的視覺化

`r fig("flights_sml.jpg", 100)`

取自<http://www.r-bloggers.com/mapping-the-worlds-biggest-airlines/>

--- &vcenter

## R 有驚人彈性和潛力

<center>`r fig("fig_10_cran1.png", 75)`</center>

取自 <http://r4stats.com/2013/03/19/r-2012-growth-exceeds-sas-all-time-total/>

--- &vcenter

## R 很容易和其他工具整合

<center>
```{r r-integration, warning=FALSE}
tools <- strsplit("Rcpp,rJava,rpy2,RHadoop,RMySQL,RPostgreSQL,RJDBC,RODBC,ROpenOffice,rredis,rmongodb,RSelenium", ",")[[1]]
freq <- rep(1, length(tools))
pal <- brewer.pal(length(tools),"BuGn")
wordcloud(tools, freq, random.color = TRUE, colors = pal)
```
</center>

--- &vcenter

## R 很容易擴充和客製化

<center>`r fig("t134_3ca_lg.jpg", 100)`</center>
來源：<http://img.diynetwork.com/DIY/2003/09/18/t134_3ca_med.jpg>

--- .segue .dark

## R 是 Open Source

--- &vcenter .largecontent

## Open Source?

- 驚人的潛力和彈性
- 容易擴充和客製化
- 只要你願意且有能力，就可以貢獻並且改進

--- &vcenter .largecontent

## R 是一種泛用的軟體工具

- 能做的事情，和所有其他工具(Python, PHP, Java, ...)一樣多
- R 的底層是C ，可以簡單和以C 為基底的工具(Python, PHP, nodejs)串接
    - [Call Python from R through Rcpp](http://gallery.rcpp.org/articles/rcpp-python/)
- [rJava] 讓R 也可以和Java Based的工具串接
    - RcppHDFS

--- &vcenter .largecontent

## R 在軟體工具中的定位

- 資料處理
- 資料分析
- 報表製作

--- &vcenter .largecontent

## 軟體工程

- 程式碼的寫作是有功力深厚之別
    - 可以在自己的電腦上跑
    - 可以在別人的電腦上跑
    - 可以讀、可以改
    - 穩健

--- &vcenter .largecontent

## 我們希望有些程式碼可以重新使用

- Copy & Paste

```r
g1 <- lm(revenue ~ weekday + sales, data)
summary(g1)$r.squared
# ...
g2 <- lm(revenue ~ weekday * sales, data)
summary(g2)$r.squared
```

- 要改的時候非常麻煩

*** =pnotes

如果要把`lm`改成`glm`呢？

--- &vcenter .largecontent

## 我們希望有些程式碼可以重新使用

- 和同仁交流

```r
library(RPostgreSQL)
con <- dbConnect(dbDriver("PostgreSQL"), host = "192.168.0.50")
data <- dbReadTable(con, "sales-2015-01-05")
```

- `RPostgreSQL`可能裝不起來
- 資料庫換位置怎麼辦？

--- &vcenter .largecontent

## 我們希望有些程式碼可以重新使用

- 例行報表

```r
library(xtable)
out <- xtable(summary(g1))
```

- 每天都要跑，能不能自動化？

--- &vcenter .largecontent

## Analysis as Packages

- [Duncan Murdoch 精彩地解釋為什麼要寫套件(Packages)和文章(Vignettes)](http://www.stats.uwo.ca/faculty/murdoch/ism2013/5Vignettes.pdf)
- [Robert M Flight 提供利用套件做分析的見解](http://rmflight.github.io/posts/2014/07/analyses_as_packages.html)

--- &vcenter .largecontent

## Duncan Murdoch：套件提供了以下功能

- 完整的函數和資料
- 伴隨著R 內的說明文件和R 外的文章
- 和其他語言的整合（C 、C++ 、Java）
- 正確性的檢查機制

--- &vcenter .largecontent

## Robert M Flight：為分析寫套件

- 讓自己的程式碼更「完整」
- 利用R 對文章撰寫的支援來製作報告

--- &vcenter .largecontent

## Wush Wu：讓分析流程自動化

- 和其他工具更好地整合
- 包裝成套件可以解決自動化之後的問題
    - 自動測試
    - 自動更新

--- &vcenter .largecontent

## 開發內部使用的R 套件很簡單

<h1 class="big">感謝Hadley Wickham</h1>

- Rstudio 完整的支援開發套件的種種功能
    - 安裝
    - 測試
    - 文件
    - 版本控制
    - C++

--- &vcenter .largecontent

## 本期課程目標（表定）

- R語言軟體套件開發環境、語言介紹
- 撰寫R語言軟體套件
- 自動測試與佈署R語言軟體套件
- R語言擴充應用

--- &vcenter .largecontent

## 我的目標

- 帶給大家真正有用的技術
    - 以最方便和最簡單的方式建立開發環境（[docker](https://www.docker.com/)）
    - 最新和最少，也最重要的軟體工程相關工具介紹（[git](http://git-scm.com/) 、[github](https://github.com/)）
    - 最新的製作套件相關的技術（R ）

--- &vcenter .largecontent

- [環境設定、語言介紹](environment.html)
- [套件開發](development.html)
- [自動測試與自動部署](ci.html)
- [擴充應用](extension.html)

---